containers:

  latreex:
    image: davekam/latreex
    dockerfile: .
    run:
      volumes-from: ["latreex_trees"]
      volume: [".:/src"]
      restart: on-failure
      detach: true

  latreex_cron:
    image: davekam/latreex_cron
    dockerfile: cron
    run:
      volumes-from: ["latreex_trees"]
      restart: on-failure
      detach: true

  latreex_trees:
    image: busybox:latest
    run:
      cmd: echo data-only container for latreex
      volume: ["/trees"]

  latreex_texlive:
    image: davekam/latreex_texlive
    dockerfile: texlive

groups:
  default: ["latreex_trees", "latreex", "latreex_cron"]
