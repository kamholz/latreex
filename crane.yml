containers:

  latreex:
    image: davekam/latreex
    dockerfile: .
    run:
      volumes-from: ["latreex_trees"]
      volume: [".:/src", "config.json.docker:/src/config.json"]
      restart: always
      detach: true

  latreex_cron:
    image: davekam/latreex_cron
    dockerfile: cron
    run:
      volumes-from: ["latreex_trees"]
      restart: always
      detach: true

  latreex_trees:
    image: busybox:latest
    run:
      cmd: echo data-only container for latreex
      volume: ["/trees"]

  latreex_texlive:
    image: davekam/latreex_texlive
    dockerfile: texlive

groups:
  default: ["latreex", "latreex_cron", "latreex_trees"]
